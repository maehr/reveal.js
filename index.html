<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<title>open museum</title>

	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/open-museum.css">

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<meta name="theme-color" content="#fff8ff">

	<script type="text/javascript" src="js/janus.js"></script>
	<!-- <script type="text/javascript" src="js/audiobridge.js"></script> -->
	<style>
		.grid-container {
			display: grid;
			grid-template-columns: 1fr 8fr 1fr;
			grid-template-rows: 2fr 8fr 2fr;
			gap: 0px 0px;
			grid-template-areas: ". up .""left frame right""buttons down logo";
		}

		.grid-container-text {
			display: grid;
			grid-template-columns: 1fr 8fr 1fr;
			grid-template-rows: 2fr 8fr 2fr;
			gap: 0px 0px;
			grid-template-areas: "mute up .""left frame-text right""map down logo";
		}

		.grid-container-mixed {
			display: grid;
			grid-template-columns: 1fr 8fr 1fr;
			grid-template-rows: 2fr 8fr 2fr;
			gap: 0px 0px;
			grid-template-areas: ". up .""left frame-mixed right""buttons down logo";
		}

		.grid-container-portrait {
			display: grid;
			grid-template-columns: 1fr 8fr 1fr;
			grid-template-rows: 2fr 8fr 2fr;
			gap: 0px 0px;
			grid-template-areas: ". up .""left frame-portrait right""buttons down logo";
		}

		.grid-container-landscape {
			display: grid;
			grid-template-columns: 1fr 8fr 1fr;
			grid-template-rows: 2fr 8fr 2fr;
			gap: 0px 0px;
			grid-template-areas: ". up .""left frame-landscape right""buttons down logo";
		}

		.left {
			grid-area: left;
		}

		.right {
			grid-area: right;
		}

		.up {
			grid-area: up;
		}

		.down {
			grid-area: down;
		}


		.logo {
			grid-area: logo;
		}
		.mute {
			grid-area: mute;
		}
		.map {
			grid-area: map;
		}


		.buttons {
			grid-area: buttons;
		}

		.frame {
			display: grid;
			grid-template-columns: 1fr 7fr;
			grid-template-rows: 1fr;
			gap: 1px 1px;
			grid-template-areas: "icon content";
			grid-area: frame;
		}

		.frame-text {
			display: grid;
			grid-template-columns: 1fr 7fr;
			grid-template-rows: 1fr;
			gap: 1px 1px;
			grid-template-areas: "icon content";
			grid-area: frame-text;
		}

		.frame-mixed {
			display: grid;
			grid-template-columns: 1fr 6fr 1fr;
			grid-template-rows: 1fr;
			gap: 1px 1px 1px;
			grid-template-areas: "icon content mixed";
			grid-area: frame-mixed;
		}

		.frame-portrait {
			display: grid;
			grid-template-columns: 1fr 4fr 3fr;
			grid-template-rows: 1fr;
			gap: 1px 1px 1px;
			grid-template-areas: "icon content portrait";
			grid-area: frame-portrait;
		}

		.frame-landscape {
			display: grid;
			grid-template-columns: 1fr 5fr 2fr;
			grid-template-rows: 1fr;
			gap: 1px 1px 1px;
			grid-template-areas: "icon landscape content";
			grid-area: frame-landscape;
		}

		.icon {
			grid-area: icon;
			flex: 0 1 auto;
		}

		.content {
			grid-area: content;
		}

		.mixed {
			grid-area: mixed;
		}

		.landscape {
			grid-area: landscape;
		}

		.portrait {
			grid-area: portrait;
		}
	</style>
</head>

<body>
	<div class="reveal">
		<div class="slides">
			<section>
				<div class="grid-container-text">
					<div class="left">
						<a href="#">
							<img alt="left" src="images/navi_left@1.png" height="116px">
						</a>
					</div>
					<div class="right">
						<a href="#">
							<img alt="right" src="images/navi_right@1.png" height="116px">
						</a>
					</div>
					<div class="logo">
						<a href="#">
							<img alt="open museum" src="images/logo@1.png">
						</a>
					</div>
					<div class="mute">
						<a href="#">
							<img alt="mute" src="images/mute@1.png">
						</a>
					</div>
					<div class="map">
						<a href="#">
							<img alt="map" src="images/map@1.png">
						</a>
					</div>
					<div class="up">
						<a href="#">
							<img alt="up" src="images/navi_up@1.png" width="116px">
						</a>
					</div>
					<div class="down">
						<a href="#">
							<img alt="down" src="images/navi_down@1.png" width="116px">
						</a>
					</div>
					<div class="frame-text">
						<div class="icon">
							<img src="images/icon_background@1.png">
						</div>
						<div class="content">
							<h3>Textlayout</h3>
							<p>Anfang 1918 wird in Kansas (US) von einer neuen, heftigen Grippe berichtet. Kurz darauf
								wird der
								erste Fall im militärischen Ausbildungslager Camp Funston registriert: Der
								Küchenunteroffizier
								Albert Gitchell gilt als Patient O. Das Virus bereitet sich in den militärischen Lagern
								rasch weiter
								aus.
							</p>
							<p>
								Andere Wissenschaftler vermuten den Ursprungsort des Virus im Fernen Osten. Gesichert
								ist: Es
								handelt sich um ein Vogelgrippevirus, das von Wasservögeln auf den Menschen übertragen
								wurde.
							</p>
						</div>
					</div>
				</div>
			</section>
			<section>
				<div class="grid-container-mixed">
					<div class="left"></div>
					<div class="right"></div>
					<div class="logo"></div>
					<div class="buttons"></div>
					<div class="up"></div>
					<div class="down"></div>
					<div class="frame-mixed">
						<div class="icon">
							<img src="images/icon_background@1.png">
						</div>
						<div class="content">
							<h3>Gemischtes Layout</h3>
							<p>Anfang 1918 wird in Kansas (US) von einer neuen, heftigen Grippe berichtet. Kurz darauf
								wird der
								erste Fall im militärischen Ausbildungslager Camp Funston registriert: Der
								Küchenunteroffizier
								Albert Gitchell gilt als Patient O. Das Virus bereitet sich in den militärischen Lagern
								rasch weiter
								aus.
							</p>
							<p>
								Andere Wissenschaftler vermuten den Ursprungsort des Virus im Fernen Osten. Gesichert
								ist: Es
								handelt sich um ein Vogelgrippevirus, das von Wasservögeln auf den Menschen übertragen
								wurde.
							</p>
						</div>
						<div class="mixed">Bild 1</div>
					</div>
				</div>
			</section>
			<section>
				<div class="grid-container-portrait">
					<div class="left"></div>
					<div class="right"></div>
					<div class="logo"></div>
					<div class="buttons"></div>
					<div class="up"></div>
					<div class="down"></div>
					<div class="frame-portrait">
						<div class="icon">
							<img src="images/icon_background@1.png">
						</div>
						<div class="content">
							<h3>Portrait Layout</h3>
							<p>Anfang 1918 wird in Kansas (US) von einer neuen, heftigen Grippe berichtet. Kurz darauf
								wird der
								erste Fall im militärischen Ausbildungslager Camp Funston registriert: Der
								Küchenunteroffizier
								Albert Gitchell gilt als Patient O. Das Virus bereitet sich in den militärischen Lagern
								rasch weiter
								aus.
							</p>
							<p>
								Andere Wissenschaftler vermuten den Ursprungsort des Virus im Fernen Osten. Gesichert
								ist: Es
								handelt sich um ein Vogelgrippevirus, das von Wasservögeln auf den Menschen übertragen
								wurde.
							</p>
						</div>
						<div class="portrait">Bild 1</div>
					</div>
				</div>
			</section>
			<section>
				<div class="grid-container-landscape">
					<div class="left"></div>
					<div class="right"></div>
					<div class="logo"></div>
					<div class="buttons"></div>
					<div class="up"></div>
					<div class="down"></div>
					<div class="frame-landscape">
						<div class="icon">
							<img src="images/icon_background@1.png">
						</div>
						<div class="landscape">
							<h3>Landscape Layout</h3>
							<br><br><br>Bild 1
						</div>
						<div class="content">
							<p>Anfang 1918 wird in Kansas (US) von einer neuen, heftigen Grippe berichtet. Kurz darauf
								wird der
								erste Fall im militärischen Ausbildungslager Camp Funston registriert: Der
								Küchenunteroffizier
								Albert Gitchell gilt als Patient O. Das Virus bereitet sich in den militärischen Lagern
								rasch weiter
								aus.
							</p>
						</div>

					</div>
				</div>
			</section>
			<!-- 0 / landing page -->
			<section>
				<!-- <p>
					<img width="200" height="200" data-src="https://media0.giphy.com/media/2gUHK3J2NCMsqsz1su/giphy.gif"
						alt="Erklärgif">
				</p> -->
				<!-- 
					Create or join group!!
				-->
				<!-- <div id="locator">
					<a href="#/">
						<img alt="Qries" src="images/navi_left@1.png" width="150" height="70">
					</a>
				</div> -->

				<!-- <a href="#/3" class="navi" id="navi">links</a>
				<a href="#/3" class="navi" id="navi">rechts</a>
				<a href="#/3" class="navi" id="navi">oben</a>
				<a href="#/3" class="navi" id="navi">unten</a> -->
				<!-- <img src="images/navi_left@1.png" alt="left"> -->
				<!-- <p>
					<button type="button" onclick="Reveal.configure({ controls: false })">Hide controls</button>
					<button type="button" onclick="Reveal.configure({ controls: true })">Show controls</button>
				</p>
				<p>
					Besuchst du uns
				</p>
				<p><a href="#/3" id="linkToPublic">ALLEINE</a> oder <a href="#/4">MIT FREUNDENEINE</a></p> -->

			</section>

			<!-- 1 / map -->
			<section data-background="images/bg.jpg">
				<h2>Grundriss</h2>
				<p>
					Bla
				</p>
				<p>
					<a href="javascript:history.back()">Zurück</a>
				</p>
			</section>
			<!-- 2 / failure -->
			<section>
				<h2>Oh Noooo</h2>
				<p>
					Etwas ist schief gelaufen. Was willst du tun?
				</p>
				<p>
					<a href="#">Ich probier es nochmals</a>
				</p>
				<p>
					<a href="#/2">Ohne Chat weiter</a>
				</p>
			</section>
			<!-- 3 / success -->
			<section>
				<h2>Yeah</h2>
				<p>
					Heureka! Du bist erfolgreich einer Besuchergruppe beigetreten.
				</p>
				<p>
					<a href="#/7">Los gehts</a>
				</p>
			</section>
			<!-- 4 / select create or join group -->
			<section>
				<h2>Hast du bereits eine Gruppe?</h2>
				<p>
					Wähle ob du eine neue Gruppe erstellen möchtest oder ob du einer bestehenden Gruppe beitretten
					möchtest.
				</p>
				<p>
					<a href="#/6">neue Gruppe</a>
				</p>
				<p>
					<a href="#/2">bestehende Gruppe</a>
				</p>
			</section>
			<!-- 5 / which group to join -->
			<section>
				<h2>Zu welcher Gruppe willst du?</h2>
				<p>
					Gib deine Gruppennummer ein
				</p>
				<p>
					<input type="text" id="group" name="group">
				</p>
				<p>
					<a href="#/3" id="linkToGroup">verbinden</a>
					<!-- 
						Query string auslesen
						https://www.sitepoint.com/get-url-parameters-with-javascript/
						https://dev.to/ganeshmani/how-to-get-query-string-parameters-in-javascript-2019-4dm2 

					-->
				</p>
			</section>
			<!-- 6 / group joined -->
			<section>
				<h2>Heureka</h2>
				<p>
					Neue Gruppe <b>3532</b> erfolgreich erstellt. </p>
				<p>Teile den Link mit deinen Freunden:
					<a href="https://open-museum.ch/?group=3532#/3">open-museum.ch/?=chat=3532#/3</a>
				</p>
				<p>
					<a href="?group=3532#/3">Weiter</a>
				</p>
			</section>
			<!-- 7 / start -->
			<section>Patient Zero</section>
		</div>

	</div>

	<script src="js/reveal.js"></script>

	<script>
		// See the link above for getUrlParams
		// More info about config & dependencies:
		// - https://github.com/hakimel/reveal.js#configuration
		// - https://github.com/hakimel/reveal.js#dependencies
		Reveal.initialize({
			// The "normal" size of the presentation, aspect ratio will be preserved
			// when the presentation is scaled to fit different resolutions
			//width: 960,
			//height: 700,

			disableLayout: true,
			// Display presentation control arrows
			// TODO remove
			controls: true,

			// Help the user learn the controls by providing hints, for example by
			// bouncing the down arrow when they first encounter a vertical slide
			controlsTutorial: false,

			// Determines where controls appear, "edges" or "bottom-right"
			controlsLayout: 'edges',

			// Visibility rule for backwards navigation arrows; "faded", "hidden"
			// or "visible"
			controlsBackArrows: 'faded',

			// Display a presentation progress bar
			progress: false,

			// Display the page number of the current slide
			slideNumber: false,

			// Add the current slide number to the URL hash so that reloading the
			// page/copying the URL will return you to the same slide
			hash: true,

			// Push each slide change to the browser history. Implies `hash: true`
			history: true,

			// Enable keyboard shortcuts for navigation
			keyboard: false,

			// Enable the slide overview mode
			overview: false,

			// Vertical centering of slides
			center: false,

			// Enables touch navigation on devices with touch input
			touch: true,

			// Loop the presentation
			loop: false,

			// Change the presentation direction to be RTL
			rtl: false,

			// See https://github.com/hakimel/reveal.js/#navigation-mode
			navigationMode: 'default',

			// Randomizes the order of slides each time the presentation loads
			shuffle: false,

			// Turns fragments on and off globally
			fragments: false,

			// Flags whether to include the current fragment in the URL,
			// so that reloading brings you to the same fragment position
			fragmentInURL: false,

			// Flags if the presentation is running in an embedded mode,
			// i.e. contained within a limited portion of the screen
			embedded: false,

			// Flags if we should show a help overlay when the questionmark
			// key is pressed
			help: false,

			// Flags if speaker notes should be visible to all viewers
			showNotes: false,

			// Global override for autoplaying embedded media (video/audio/iframe)
			// - null: Media will only autoplay if data-autoplay is present
			// - true: All media will autoplay, regardless of individual setting
			// - false: No media will autoplay, regardless of individual setting
			autoPlayMedia: null,

			// Global override for preloading lazy-loaded iframes
			// - null: Iframes with data-src AND data-preload will be loaded when within
			//   the viewDistance, iframes with only data-src will be loaded when visible
			// - true: All iframes with data-src will be loaded when within the viewDistance
			// - false: All iframes with data-src will be loaded only when visible
			preloadIframes: true,

			// Number of milliseconds between automatically proceeding to the
			// next slide, disabled when set to 0, this value can be overwritten
			// by using a data-autoslide attribute on your slides
			autoSlide: 0,

			// Stop auto-sliding after user input
			autoSlideStoppable: true,

			// Use this method for navigation when auto-sliding
			autoSlideMethod: Reveal.navigateNext,

			// Specify the average time in seconds that you think you will spend
			// presenting each slide. This is used to show a pacing timer in the
			// speaker view
			defaultTiming: 120,

			// Specify the total time in seconds that is available to
			// present.  If this is set to a nonzero value, the pacing
			// timer will work out the time available for each slide,
			// instead of using the defaultTiming value
			totalTime: 0,

			// Specify the minimum amount of time you want to allot to
			// each slide, if using the totalTime calculation method.  If
			// the automated time allocation causes slide pacing to fall
			// below this threshold, then you will see an alert in the
			// speaker notes window
			minimumTimePerSlide: 0,

			// Enable slide navigation via mouse wheel
			mouseWheel: false,

			// Hide cursor if inactive
			hideInactiveCursor: false,

			// Time before the cursor is hidden (in ms)
			hideCursorTime: 5000,

			// Hides the address bar on mobile devices
			hideAddressBar: true,

			// Opens links in an iframe preview overlay
			// Add `data-preview-link` and `data-preview-link="false"` to customise each link
			// individually
			previewLinks: false,

			// Transition style
			transition: 'slide', // none/fade/slide/convex/concave/zoom

			// Transition speed
			transitionSpeed: 'slow', // default/fast/slow

			// Transition style for full page slide backgrounds
			backgroundTransition: 'fade', // none/fade/slide/convex/concave/zoom

			// Number of slides away from the current that are visible
			viewDistance: 3,

			// Number of slides away from the current that are visible on mobile
			// devices. It is advisable to set this to a lower number than
			// viewDistance in order to save resources.
			mobileViewDistance: 2,

			// Parallax background image
			parallaxBackgroundImage: '', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

			// Parallax background size
			parallaxBackgroundSize: '', // CSS syntax, e.g. "2100px 900px"

			// Number of pixels to move the parallax background per slide
			// - Calculated automatically unless specified
			// - Set to 0 to disable movement along an axis
			parallaxBackgroundHorizontal: null,
			parallaxBackgroundVertical: null,

			// The display mode that will be used to show slides
			display: 'block',

			// 
			keyboard: {
				// go to the next slide when the ENTER key is pressed
				// 13: 'next', 
				// do something custom when ESC is pressed
				// 27: function() {}, 
				// don't do anything when SPACE is pressed (i.e. disable a reveal.js default binding)
				// 32: null 
			},
		});
		// A ready event is fired when reveal.js has loaded all non-async dependencies and is ready to start navigating. To check if reveal.js is already 'ready' you can call Reveal.isReady().
		// Note that we also add a .ready class to the .reveal element so that you can hook into this with CSS.
		Reveal.addEventListener('ready', function (event) {
			// event.currentSlide, event.indexh, event.indexv
		});


		// Generate url for lonely wolf with query string
		document.getElementById("linkToPublic").onclick = function () {
			const publicRoom = 1234
			location.href = "?group=" + publicRoom + "#/3";
		};

		// Generate url for groups with query string
		document.getElementById("linkToGroup").onclick = function () {
			location.href = "?group=" + document.getElementById('group').value + "#/3";
		};

		// Read group number from query string
		const queryString = window.location.search;
		const urlParams = new URLSearchParams(queryString);
		group = urlParams.get('group');
		document.getElementById('group').value = urlParams.get('group');
		if (group > 0) {
			startChat()
			//  block of code to be executed if the condition is true
		}
		// TODO Check if group not in chats `location.href = "#/2"`
	</script>
</body>

</html>